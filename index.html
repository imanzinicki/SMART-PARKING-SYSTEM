<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>IOT SMART PARKING SYSTEM</title>

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">


  <style>
    /* Theme variables */
    :root{
      --bg-image: url('https://images.unsplash.com/photo-1503376780353-7e6692767b70?auto=format&fit=crop&w=1950&q=80');
      --bg-overlay: rgba(5,8,12,0.6);
      --bg: linear-gradient(rgba(5,8,12,0.55), rgba(5,8,12,0.55)), var(--bg-image);
      --text: #e6edf3;
      --muted: #8b949e;
      --header-bg: rgba(22,27,34,0.9);
      --card-bg: rgba(22,27,34,0.85);
      --border: rgba(45,51,59,0.9);
      --info-bg: rgba(48,54,61,0.85);
      --accent: #58a6ff;
      --free-green: #238636;
      --occupied-red: #da3633;
    }

    /* Light theme overrides */
    body.light-theme{
      --bg-image: none;
      --bg: linear-gradient(135deg, #e3f2fd 0%, #f5f5f5 100%);
      --bg-overlay: rgba(255,255,255,0.0);
      --text: #0b1220;
      --muted: #475569;
      --header-bg: rgba(255,255,255,0.95);
      --card-bg: rgba(255,255,255,0.98);
      --border: rgba(200,210,220,0.9);
      --info-bg: rgba(245,247,250,0.95);
      --accent: #0b6cff;
      --free-green: #09804a;
      --occupied-red: #b02a26;
    }

    /* Base */
    body {
      margin: 0;
      padding: 0;
      background: var(--bg);
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      font-family: "Segoe UI", Roboto, Arial, sans-serif;
      color: var(--text);
      animation: fadeIn 1s ease-in;
      transition: background 0.4s ease, color 0.4s ease;
      position: relative;
      overflow-x: hidden;
    }

    /* Animated car background for dark mode */
    body::after {
      content: "ðŸš—";
      position: fixed;
      bottom: -50px;
      font-size: 80px;
      opacity: 0.08;
      pointer-events: none;
      animation: carDrive 15s infinite linear;
      z-index: 0;
    }

    body.light-theme::after {
      opacity: 0.05;
    }

    @keyframes carDrive {
      0% {
        left: -100px;
        bottom: 10%;
      }
      50% {
        bottom: 15%;
      }
      100% {
        left: 100vw;
        bottom: 10%;
      }
    }

    /* Multiple cars for dynamic animation */
    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background: var(--bg-overlay);
      pointer-events: none;
      transition: background 0.4s ease;
      z-index: -1;
    }

    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

    header {
      background: var(--header-bg);
      color: var(--text);
      box-shadow: 0 2px 8px rgba(0,0,0,0.07);
      position: sticky;
      top: 0;
      z-index: 5;
      backdrop-filter: blur(6px);
      animation: slideDown 0.8s ease-out;
    }
    
    .header-top {
      padding: 18px 40px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 20px;
    }
    
    header .logo {
      font-size: 1.8rem;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 10px;
      text-decoration: none;
      color: var(--text);
    }
    
    header .logo i {
      color: var(--accent);
      text-shadow: 0 2px 8px rgba(0,0,0,0.3);
    }
    
    header .nav-menu {
      display: flex;
      list-style: none;
      gap: 20px;
      flex-wrap: wrap;
      margin: 0;
      padding: 0;
    }
    
    header .nav-menu a {
      color: var(--text);
      text-decoration: none;
      font-weight: 600;
      transition: color 0.2s, transform 0.2s;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    
    header .nav-menu a:hover {
      color: var(--accent);
      transform: translateY(-2px);
    }

    .dev-button {
      background: linear-gradient(135deg, var(--accent), #1f6feb);
      color: white;
      border: none;
      padding: 10px 18px;
      border-radius: 999px;
      cursor: pointer;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: transform 0.2s, box-shadow 0.2s;
      font-size: 0.95rem;
      box-shadow: 0 4px 12px rgba(88,166,255,0.3);
    }

    .dev-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 20px rgba(88,166,255,0.4);
    }

    @keyframes slideDown { from { transform: translateY(-40px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

    .container {
      width: 92%;
      max-width: 1100px;
      margin: 26px auto;
      padding-bottom: 40px;
    }

    .top-row {
      display:flex;
      align-items:center;
      justify-content:space-between;
      margin-bottom: 18px;
      gap: 12px;
    }

    .theme-toggle {
      background: transparent;
      border: 1px solid var(--border);
      color: var(--text);
      padding: 8px 12px;
      border-radius: 999px;
      cursor: pointer;
      display:flex;
      align-items:center;
      gap:8px;
      font-weight:700;
      transition: background 0.25s, color 0.25s, border-color 0.25s, transform 0.12s;
      backdrop-filter: blur(6px);
    }

    .theme-toggle:hover { transform: translateY(-2px); }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
    }

    .card {
      background: var(--card-bg);
      padding: 20px;
      border-radius: 14px;
      box-shadow: 0 8px 18px rgba(2,6,23,0.35);
      border: 1px solid var(--border);
      text-align: left;
      transition: 0.4s;
      animation: popIn 0.6s ease-out;
      min-height: 110px;
      display:flex;
      flex-direction:column;
      gap:12px;
    }

    .card:hover { transform: translateY(-6px); box-shadow: 0 18px 30px rgba(2,6,23,0.45); }

    @keyframes popIn { from { transform: scale(0.96); opacity: 0; } to { transform: scale(1); opacity: 1; } }

    .title {
      font-size: 18px;
      margin-bottom: 6px;
      display:flex;
      align-items:center;
      gap:10px;
      color: var(--text);
    }

    .title i { color: var(--accent); font-size: 18px; }

    .status {
      padding: 10px 14px;
      border-radius: 10px;
      font-size: 16px;
      font-weight: 700;
      display: inline-block;
      transition: 0.3s ease-in-out;
      color: white;
      align-self:flex-start;
    }

    .free {
      background: var(--free-green);
      box-shadow: 0 0 8px var(--free-green);
      color: #f6fff9;
    }

    .occupied {
      background: var(--occupied-red);
      box-shadow: 0 0 10px var(--occupied-red);
      animation: pulse 1.2s infinite;
      color: #fff;
    }

    .info {
      background: var(--info-bg);
      box-shadow: 0 0 6px rgba(0,0,0,0.15);
      color: var(--text);
    }

    @keyframes pulse {
      0%   { transform: scale(1); }
      50%  { transform: scale(1.04); }
      100% { transform: scale(1); }
    }

    .fullAlert {
      animation: glowFull 1s infinite;
    }

    @keyframes glowFull {
      0%   { box-shadow: 0 0 8px rgba(210,40,40,0.9); }
      50%  { box-shadow: 0 0 18px rgba(210,40,40,0.95); }
      100% { box-shadow: 0 0 8px rgba(210,40,40,0.9); }
    }

    .gateOpen {
      animation: blinkGate 0.9s infinite;
    }

    @keyframes blinkGate {
      0%   { box-shadow: 0 0 8px var(--accent); }
      50%  { box-shadow: 0 0 20px var(--accent); }
      100% { box-shadow: 0 0 8px var(--accent); }
    }

    .car {
      display: inline-block;
      width: 50px;
      height: 30px;
      background: #fff;
      border-radius: 6px;
      position: relative;
      animation: carAppear 0.5s ease-out forwards;
      vertical-align: middle;
      margin-right: 8px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }

    .car::before, .car::after {
      content: '';
      position: absolute;
      bottom: -8px;
      width: 12px;
      height: 12px;
      background: #222;
      border-radius: 50%;
    }

    .car::before { left: 6px; }
    .car::after { right: 6px; }

    @keyframes carAppear {
      0%   { transform: scale(0); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }

    .no-car {
      display: inline-block;
      font-size: 15px;
      color: var(--accent);
      font-weight: 800;
      animation: fadeText 0.5s ease-in forwards;
    }

    @keyframes fadeText {
      0% { opacity: 0; transform: translateY(-5px); }
      100% { opacity: 1; transform: translateY(0); }
    }

    footer {
      background: linear-gradient(135deg, var(--header-bg), rgba(22,27,34,0.7));
      color: var(--text);
      padding: 30px 20px;
      text-align: center;
      font-size: 14px;
      border-top: 1px solid var(--border);
      margin-top: 40px;
    }
    
    footer p {
      margin: 0;
      color: var(--muted);
    }
    
    footer a {
      color: var(--accent);
      text-decoration: none;
      transition: color 0.2s;
    }
    
    footer a:hover {
      color: var(--text);
    }

    /* Responsive adjustments */
    @media (max-width:900px){
      .header-top {
        padding: 16px 20px;
      }
      header .logo {
        font-size: 1.4rem;
      }
      header .nav-menu {
        gap: 12px;
        font-size: 0.95rem;
      }
    }
    
    @media (max-width:600px){
      .header-top {
        flex-direction: column;
        align-items: flex-start;
      }
      header .nav-menu {
        width: 100%;
      }
      .container {
        margin: 16px auto;
      }
    }

    /* video style */
    .card video {
      width: 100%;
      border-radius: 10px;
      border: 1px solid rgba(0,0,0,0.08);
      background: #000;
      max-height: 220px;
      object-fit: cover;
    }

    /* Developer section styles */
    .developers-section {
      margin-top: 40px;
      padding: 30px;
      background: var(--card-bg);
      border-radius: 14px;
      border: 1px solid var(--border);
      box-shadow: 0 8px 18px rgba(2,6,23,0.35);
      animation: popIn 0.6s ease-out;
    }

    .section-title {
      font-size: 24px;
      font-weight: 700;
      color: var(--text);
      margin-bottom: 30px;
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
    }

    .section-title i {
      color: var(--accent);
      font-size: 28px;
    }

    .developers-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 30px;
      margin-top: 20px;
    }

    .developer-card {
      background: var(--info-bg);
      padding: 25px;
      border-radius: 12px;
      border: 1px solid rgba(88,166,255,0.2);
      text-align: center;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    .developer-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 30px rgba(88,166,255,0.2);
      border-color: var(--accent);
    }

    .dev-avatar {
      width: 140px;
      height: 140px;
      margin: 0 auto 20px;
      border-radius: 12px;
      background: linear-gradient(135deg, var(--accent), #1f6feb);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 60px;
      overflow: hidden;
      border: 3px solid var(--accent);
      box-shadow: 0 0 20px rgba(88,166,255,0.3);
      transition: transform 0.3s ease;
    }

    .dev-avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .developer-card:hover .dev-avatar {
      transform: scale(1.05);
      box-shadow: 0 0 30px rgba(88,166,255,0.5);
    }

    .dev-name {
      font-size: 20px;
      font-weight: 700;
      color: var(--text);
      margin-bottom: 8px;
    }

    .dev-role {
      font-size: 14px;
      color: var(--accent);
      font-weight: 600;
      margin-bottom: 15px;
    }

    .dev-description {
      font-size: 13px;
      color: var(--muted);
      line-height: 1.6;
      margin-bottom: 18px;
    }

    .dev-skills {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: center;
      margin-top: 15px;
    }

    .skill-badge {
      background: rgba(88,166,255,0.15);
      color: var(--accent);
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
      border: 1px solid rgba(88,166,255,0.3);
    }

    /* Modal styles */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.6);
      animation: fadeIn 0.3s ease-out;
    }

    .modal-content {
      background: var(--card-bg);
      margin: 5% auto;
      padding: 40px;
      border: 1px solid var(--border);
      border-radius: 14px;
      width: 90%;
      max-width: 600px;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
      animation: slideUp 0.3s ease-out;
    }

    @keyframes slideUp {
      from {
        transform: translateY(50px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    .close-btn {
      color: var(--text);
      float: right;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
      transition: color 0.2s;
    }

    .close-btn:hover {
      color: var(--accent);
    }

    .modal-dev-avatar {
      width: 200px;
      height: 200px;
      margin: 20px auto;
      border-radius: 12px;
      background: linear-gradient(135deg, var(--accent), #1f6feb);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 80px;
      overflow: hidden;
      border: 4px solid var(--accent);
      box-shadow: 0 0 30px rgba(88,166,255,0.3);
    }

    .modal-dev-avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .modal-dev-info {
      text-align: center;
      margin: 20px 0;
    }

    .modal-dev-name {
      font-size: 28px;
      font-weight: 700;
      color: var(--text);
      margin-bottom: 10px;
    }

    .modal-dev-role {
      font-size: 16px;
      color: var(--accent);
      font-weight: 600;
      margin-bottom: 20px;
    }

    .modal-dev-description {
      font-size: 15px;
      color: var(--muted);
      line-height: 1.7;
      margin-bottom: 25px;
      text-align: left;
    }

    .modal-dev-skills {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
      margin-bottom: 20px;
    }

    .modal-skill {
      background: rgba(88,166,255,0.15);
      color: var(--accent);
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 13px;
      font-weight: 600;
      border: 1px solid rgba(88,166,255,0.3);
    }
  </style>
</head>

<body>

<header>
  <div class="header-top">
    <a href="index.html" class="logo">
      <i class="fas fa-car-side"></i> <span>Smart Parking</span>
    </a>
    <nav>
      <ul class="nav-menu">
        <li><a href="dashboard.html"><i class="fas fa-dashboard"></i> Dashboard</a></li>
        <li><a href="about.html"><i class="fas fa-info-circle"></i> About</a></li>
         
        <li><a href="contact.html"><i class="fas fa-envelope"></i> Contact</a></li>
      </ul>
    </nav>
    <button id="devBtn" class="dev-button" title="View Developers">
      <i class="fas fa-code"></i> Developers
    </button>
    <button id="themeToggle" class="theme-toggle" title="Toggle dark / light">
      <i id="themeIcon" class="fa-regular fa-moon"></i>
      <span id="themeText">Dark</span>
    </button>
  </div>
</header>

<div class="container">

  <div class="grid">

    <div class="card">
      <div class="title"><i class="fas fa-down-left-and-up-right-to-center"></i> Entrance Sensor</div>
      <span id="entrance" class="status info">Loading...</span>
    </div>

    <div class="card">
      <div class="title"><i class="fas fa-square-parking"></i> Parking Slot 1</div>
      <span id="slot1" class="status info">Loading...</span>
    </div>

    <div class="card">
      <div class="title"><i class="fas fa-square-parking"></i> Parking Slot 2</div>
      <span id="slot2" class="status info">Loading...</span>
    </div>

    <div class="card">
      <div class="title"><i class="fas fa-square-parking"></i> Parking Slot 3</div>
      <span id="slot3" class="status info">Loading...</span>
    </div>

    <div class="card">
      <div class="title"><i class="fas fa-car"></i> Free Slots</div>
      <span id="freeSlots" class="status info">Loading...</span>
    </div>

    <div class="card">
      <div class="title"><i class="fas fa-circle-info"></i> Parking Status</div>
      <span id="parkingStatus" class="status info">Loading...</span>
    </div>

    <div class="card">
      <div class="title"><i class="fas fa-door-open"></i> Gate Status</div>
      <span id="gateStatus" class="status info">Loading...</span>
    </div>

    <!-- Demo video card -->
    <div class="card">
      <div class="title"><i class="fas fa-video"></i> Smart Parking Demo</div>
      <!-- Parking related video - showing actual parking scenario -->
      <video controls muted autoplay loop playsinline>
        <source src="Reverse Parking with Cones __Reverse Park Step by Step.mp4" type="video/mp4">
        Your browser does not support the video tag.
      </video>
      <div style="font-size:13px;color:var(--muted);margin-top:6px;">Real-time automated parking management system in action</div>
    </div>

  </div>

  <!-- Developers Section -->
  <div class="developers-section">
    <div class="section-title">
      <i class="fas fa-people-group"></i> Development Team
    </div>
    <div class="developers-grid">
      <!-- Developer 1 -->
      <div class="developer-card" id="dev1Card">
        <div class="dev-avatar">
          <img src="nicki.jpg" alt="Nicki - Lead Developer">
        </div>
        <div class="dev-name"> IMANZINZIYURUKUNDO Nicki</div>
        <div class="dev-role">Lead Developer</div>
        <div class="dev-description">
          Full-stack developer specializing in IoT systems and real-time data processing. Passionate about building intelligent parking solutions.
        </div>
        <div class="dev-skills">
          <div class="skill-badge">IoT Spervisor</div>
          <div class="skill-badge">Full-Stack</div>
          <div class="skill-badge">APIs</div>
          <div class="skill-badge">web Design css,html,Javascript Basics ,Python Basics</div>
          <div class="skill-badge">C++ Basics</div>
          <div class="skill-badge">Real-time processing</div>
        </div>
        <button class="theme-toggle" style="width: 100%; margin-top: 15px; justify-content: center;" onclick="openDevModal(1)">
          <i class="fas fa-arrow-right"></i> View Profile
        </button>
      </div>

      <!-- Developer 2 -->
      <div class="developer-card" id="dev2Card">
        <div class="dev-avatar">
          <img src="unnamed.jpg" alt="Yves Manzi - Main Developer">
        </div>
        <div class="dev-name">Yves Manzi</div>
        <div class="dev-role">Main Developer & Project Lead</div>
        <div class="dev-description">
          Lead architect and main developer of the Smart Parking System. Expert in IoT hardware integration, embedded systems, and full-stack development with proven track record in smart city solutions.
        </div>
        <div class="dev-skills">
          <div class="skill-badge">IoT Architecture</div>
          <div class="skill-badge">Hardware Integration</div>
          <div class="skill-badge">Full-Stack</div>
          <div class="skill-badge">Project Lead</div>
        </div>
        <button class="theme-toggle" style="width: 100%; margin-top: 15px; justify-content: center;" onclick="openDevModal(2)">
          <i class="fas fa-arrow-right"></i> View Profile
        </button>
      </div>

      <!-- Developer 3 -->
      <div class="developer-card" id="dev3Card">
        <div class="dev-avatar">
          <img src="elyse.jpg" alt="Elyse - Frontend Developer">
        </div>
        <div class="dev-name">TUYIRINGIRE Elyse</div>
        <div class="dev-role">Embeded supervisor</div>
        <div class="dev-description">
          UI/UX-focused frontend developer building polished interfaces and responsive layouts. Focused on accessibility and delightful micro-interactions.
        </div>
        <div class="dev-skills">
          <div class="skill-badge">Hardware Intergration</div>
          <div class="skill-badge">Electrical Spervisor</div>
          <div class="skill-badge">Python Basics,c++ Basics</div>
          <div class="skill-badge">JSON Datbases(FIRE BASE) Basics</div>
          <div class="skill-badge">Design</div>
        </div>
        <button class="theme-toggle" style="width: 100%; margin-top: 15px; justify-content: center;" onclick="openDevModal(3)">
          <i class="fas fa-arrow-right"></i> View Profile
        </button>
      </div>
    </div>
  </div>

</div>

<footer>
  <p>&copy; 2025 <strong>Smart Parking System</strong>. Intelligent IoT Solutions â€¢ All rights reserved.</p>
  <p style="margin-top: 15px; font-size: 12px;">
    <button id="footerDevBtn" class="dev-button" style="background: transparent; border: 1px solid var(--accent); color: var(--accent); box-shadow: none;" title="Meet the Developers">
      <i class="fas fa-code"></i> Meet Developers
    </button>
  </p>
  <div class="footer-social" style="margin-top:12px; display:flex; gap:14px; justify-content:center; align-items:center; flex-wrap:wrap;">
    <a href="https://www.instagram.com/mr_b_e_ee/" target="_blank" rel="noopener noreferrer" style="color:var(--accent); text-decoration:none; font-weight:700; display:flex; align-items:center; gap:8px; transition:color 0.2s;" onmouseover="this.style.color='#58a6ff'" onmouseout="this.style.color='var(--accent)'">
      <i class="fab fa-instagram" style="font-size:20px; display:inline-block;"></i> <span>@mr_b_e_ee</span>
    </a>
    <a href="https://x.com/ManziNicki41150" target="_blank" rel="noopener noreferrer" style="color:var(--accent); text-decoration:none; font-weight:700; display:flex; align-items:center; gap:8px; transition:color 0.2s;" onmouseover="this.style.color='#58a6ff'" onmouseout="this.style.color='var(--accent)'">
      <i class="fab fa-x-twitter" style="font-size:20px; display:inline-block;"></i> <span>@ManziNicki41150</span>
    </a>
    <a href="https://github.com/imanzinicki" target="_blank" rel="noopener noreferrer" style="color:var(--accent); text-decoration:none; font-weight:700; display:flex; align-items:center; gap:8px; transition:color 0.2s;" onmouseover="this.style.color='#58a6ff'" onmouseout="this.style.color='var(--accent)'">
      <i class="fab fa-github" style="font-size:20px; display:inline-block;"></i> <span>contact Via github</span>
    </a>
  </div>
</footer>

<!-- Share Floating Button -->
<div id="shareWidget" class="share-widget" aria-hidden="false">
  <button id="shareToggle" class="share-toggle" title="Share">
    <i class="fas fa-share-nodes"></i>
  </button>
  <div id="shareMenu" class="share-menu" aria-hidden="true">
    <button class="share-item" id="shareWhatsapp" title="Share on WhatsApp"><i class="fab fa-whatsapp"></i></button>
    <button class="share-item" id="shareX" title="Share on X"><i class="fab fa-x-twitter"></i></button>
    <button class="share-item" id="shareFacebook" title="Share on Facebook"><i class="fab fa-facebook-f"></i></button>
    <button class="share-item" id="shareEmail" title="Share by Email"><i class="fas fa-envelope"></i></button>
    <button class="share-item" id="shareInstagram" title="Share on Instagram"><i class="fab fa-instagram"></i></button>
    <button class="share-item" id="shareCopy" title="Copy link"><i class="fas fa-link"></i></button>
  </div>
</div>

<style>
  .share-widget { position: fixed; right: 18px; bottom: 18px; z-index: 1100; font-family: inherit; }
  .share-toggle { background: linear-gradient(135deg,var(--accent),#1f6feb); color: #fff; border: none; width:56px; height:56px; border-radius:50%; display:flex; align-items:center; justify-content:center; box-shadow:0 8px 30px rgba(31,111,235,0.25); cursor:pointer; font-size:18px; }
  .share-menu { display:none; margin-bottom: 12px; margin-right: 4px; transform-origin: right bottom; }
  .share-menu.show { display:flex; flex-direction:column; gap:10px; align-items:flex-end; }
  .share-item { background: var(--card-bg); color: var(--text); border:1px solid var(--border); width:46px; height:46px; border-radius:10px; display:flex; align-items:center; justify-content:center; cursor:pointer; font-size:16px; box-shadow:0 6px 18px rgba(2,6,23,0.25); }
  .share-item:hover { transform: translateY(-3px); box-shadow:0 10px 28px rgba(2,6,23,0.28); }
  .share-item i { color: var(--accent); }
  @media (max-width:600px){ .share-widget{right:12px; bottom:12px;} .share-toggle{width:50px;height:50px;} .share-item{width:44px;height:44px;} }
</style>

<!-- Developer Modal -->
<div id="devModal" class="modal">
  <div class="modal-content">
    <span class="close-btn" onclick="closeDevModal()">&times;</span>
    
    <div id="modalContent">
      <!-- Dynamic content will be inserted here -->
    </div>
  </div>
</div>

<script>
  const TOKEN = "dOTrpimvJMPVJnHfm6IApGZZpcwZRrL5";

  async function readDatastream(vpin) {
    const url = `https://blynk.cloud/external/api/get?token=${TOKEN}&${vpin}`;
    const response = await fetch(url);
    return response.text();
  }

  async function updateUI() {

    try {
      // Entrance Sensor
      let entrance = await readDatastream("v0");
      entrance = entrance.trim();
      let e = document.getElementById("entrance");
      // treat 255, 1, true (string), or numeric 1 as detected
      const entranceOccupied = (entrance == "255" || entrance == "1" || entrance.toLowerCase() === "true" || parseInt(entrance) === 255 || parseInt(entrance) === 1);
      e.textContent = entranceOccupied ? "CAR DETECTED" : "CLEAR";
      e.className = "status " + (entranceOccupied ? "occupied" : "free");
      console.log("V0 Entrance:", entrance, "| entranceOccupied:", entranceOccupied);

      // Slots 1-3 with Car / No-car animation
      for (let i=1; i<=3; i++){
        let s = await readDatastream("v"+i);
        s = (s || "").toString().trim();
        let slot = document.getElementById("slot"+i);
        // Prefer explicit 1/0 mapping; fallback to 255 or "true"
        let occupied = false;
        if (s === "1" || parseInt(s) === 1) occupied = true;
        else if (s === "0" || parseInt(s) === 0) occupied = false;
        else if (s === "255" || parseInt(s) === 255) occupied = true;
        else if (s.toLowerCase() === "true") occupied = true;

        console.log(`V${i} Slot:`, s, "| occupied:", occupied);

        if (occupied) {
          slot.textContent = 'CAR PRESENT';
          slot.className = "status occupied";
        } else {
          slot.textContent = 'NO CAR';
          slot.className = "status free";
        }
      }

      // Free Slots (V4)
      let free = await readDatastream("v4");
      free = free.trim();
      let freeSlot = document.getElementById("freeSlots");
      freeSlot.textContent = free;
      console.log("V4 Free slots:", free);

      // Glow when full
      if (free == "0") freeSlot.classList.add("fullAlert");
      else freeSlot.classList.remove("fullAlert");

      // Parking Status (V5)
      let pState = await readDatastream("v5");
      pState = pState.trim();
      document.getElementById("parkingStatus").textContent = pState;
      console.log("V5 Parking Status:", pState);

      // Gate Status (V6)
      let gate = await readDatastream("v6");
      gate = gate.trim();
      let g = document.getElementById("gateStatus");
      g.textContent = gate;

      // Blink animation when OPEN
      if (gate.includes("OPEN")) g.classList.add("gateOpen");
      else g.classList.remove("gateOpen");
      console.log("V6 Gate:", gate);
    } catch (error) {
      console.error("Error updating UI:", error);
    }
  }

  // Developer Modal Functions
  const developers = [
    {
      id: 1,
      name: "Nicki",
      role: "Lead Developer",
      image: "nicki.jpg",
      description: "Full-stack developer with 8+ years of experience in IoT systems and real-time data processing. Nicki specializes in designing intelligent parking solutions that integrate hardware sensors with cloud-based management systems.",
      fullDescription: "Nicki is a senior full-stack developer leading the technical implementation of the Smart Parking System. With expertise in IoT architecture, real-time data processing, and cloud computing, Nicki ensures seamless integration between hardware sensors and software systems. Known for innovative problem-solving and delivering robust solutions for smart city applications.\n\nEmail: manzinicli8@gmail.com",
      skills: ["IoT", "Full-Stack", "Real-time Processing", "APIs", "Cloud Architecture", "Python", "Node.js", "Hardware Integration"],
      email: "manzinicki9@gmail.com"
    },
    {
      id: 2,
      name: "Yves Manzi",
      role: "Main Developer & Project Lead",
      image: "unnamed.jpg",
      description: "Lead architect and main developer of the Smart Parking System. Expert in IoT hardware integration, embedded systems, and full-stack development with proven track record in smart city solutions.",
      fullDescription: "Yves Manzi is the main developer and project lead of the Smart Parking System. With comprehensive expertise in IoT hardware integration, embedded systems design, and full-stack software development, Yusuf oversees all technical aspects of the project. His vision for creating intelligent, sustainable urban parking solutions drives the project forward. Yusuf's leadership ensures the system meets the highest standards of performance, reliability, and innovation.\n\nEmail: ymanzi45@gmail.com",
      skills: ["IoT Architecture", "Hardware Integration", "Full-Stack Development", "Project Management", "Embedded Systems", "System Design", "Cloud Infrastructure", "Technical Leadership"],
      email: "ymanzi45@gmail.com"
    },
    {
      id: 3,
      name: "Elyse",
      role: "Frontend Developer",
      image: "elyse.jpg",
      description: "UI/UX-focused frontend developer building polished interfaces and responsive layouts. Focused on accessibility and delightful micro-interactions.",
      fullDescription: "Elyse is a frontend developer specializing in Troubleshooting, accessible interfaces and responsive design. he focuses on user experience, animations, and building interfaces that work well across devices.",
      skills: ["HTML", "CSS", "JavaScript", "Accessibility", "Responsive Design"],
      email: "electronician250@gmail.com"
    }
  ];

  function openDevModal(devId) {
    const modal = document.getElementById("devModal");
    const dev = developers.find(d => d.id === devId);
    
    if (dev) {
      const modalContent = document.getElementById("modalContent");
      const imageFile = dev && dev.image ? dev.image : 'nicki.jpg';
      
      modalContent.innerHTML = `
        <div class="modal-dev-avatar">
          <img src="${imageFile}" alt="${dev.name} - ${dev.role}" style="width: 100%; height: 100%; object-fit: cover;">
        </div>
        <div class="modal-dev-info">
          <div class="modal-dev-name">${dev.name}</div>
          <div class="modal-dev-role">${dev.role}</div>
        </div>
        <div class="modal-dev-description">
          <h4 style="color: var(--accent); margin-top: 0;">About</h4>
          ${dev.fullDescription}
        </div>
        <div style="text-align: center; margin-top: 25px;">
          <h4 style="color: var(--accent); margin-bottom: 15px;">Email</h4>
          <p style="color: var(--muted); margin: 0 0 20px 0;">
            <a href="mailto:${dev.email}" style="color: var(--accent); text-decoration: none; font-weight: 600;">
              <i class="fa-solid fa-envelope"></i> ${dev.email}
            </a>
          </p>
        </div>
        <div style="text-align: center; margin-top: 15px;">
          <h4 style="color: var(--accent); margin-bottom: 15px;">Skills & Expertise</h4>
          <div class="modal-dev-skills">
            ${dev.skills.map(skill => `<div class="modal-skill">${skill}</div>`).join('')}
          </div>
        </div>
      `;
      modal.style.display = "block";
    }
  }

  function closeDevModal() {
    document.getElementById("devModal").style.display = "none";
  }

  // Close modal when clicking outside
  window.onclick = function(event) {
    const modal = document.getElementById("devModal");
    if (event.target === modal) {
      modal.style.display = "none";
    }
  }

  // Developer button event listeners
  document.getElementById("devBtn").addEventListener("click", () => {
    openDevModal(1);
  });

  document.getElementById("footerDevBtn").addEventListener("click", () => {
    openDevModal(1);
  });

  // Share widget logic
  const shareUrl = encodeURIComponent('https://imanzinicki.github.io/SMART-PARKING-SYSTEM/');
  const shareText = encodeURIComponent('Check out Smart Parking System');
  const shareToggle = document.getElementById('shareToggle');
  const shareMenu = document.getElementById('shareMenu');

  shareToggle.addEventListener('click', () => {
    const isShown = shareMenu.classList.toggle('show');
    shareMenu.setAttribute('aria-hidden', !isShown);
  });

  document.getElementById('shareWhatsapp').addEventListener('click', () => {
    const url = `https://wa.me/?text=${shareText}%20${shareUrl}`;
    window.open(url, '_blank');
  });

  document.getElementById('shareX').addEventListener('click', () => {
    const url = `https://twitter.com/intent/tweet?text=${shareText}%20${shareUrl}`;
    window.open(url, '_blank');
  });

  document.getElementById('shareFacebook').addEventListener('click', () => {
    const url = `https://www.facebook.com/sharer/sharer.php?u=${shareUrl}`;
    window.open(url, '_blank');
  });

  document.getElementById('shareEmail').addEventListener('click', () => {
    const mailto = `mailto:?subject=${shareText}&body=${shareText}%20${shareUrl}`;
    window.location.href = mailto;
  });

  document.getElementById('shareInstagram').addEventListener('click', async () => {
    // Instagram doesn't support direct URL share of links; copy link and open Instagram
    try {
      await navigator.clipboard.writeText(decodeURIComponent(shareUrl));
      alert('Link copied to clipboard. Paste into Instagram (story or DM) to share.');
      window.open('https://www.instagram.com/', '_blank');
    } catch (err) {
      alert('Please copy the link manually: ' + decodeURIComponent(shareUrl));
    }
  });

  document.getElementById('shareCopy').addEventListener('click', async () => {
    try {
      await navigator.clipboard.writeText(decodeURIComponent(shareUrl));
      alert('Link copied to clipboard');
    } catch (err) {
      prompt('Copy this link:', decodeURIComponent(shareUrl));
    }
  });

  // theme toggle logic (keeps existing dashboard logic intact)
  const themeToggle = document.getElementById('themeToggle');
  const themeIcon = document.getElementById('themeIcon');
  const themeText = document.getElementById('themeText');

  // initialize from saved preference if any
  if (localStorage.getItem('parkingTheme') === 'light') {
    document.body.classList.add('light-theme');
    themeIcon.className = 'fa-regular fa-sun';
    themeText.textContent = 'Light';
  } else {
    themeIcon.className = 'fa-regular fa-moon';
    themeText.textContent = 'Dark';
  }

  themeToggle.addEventListener('click', () => {
    const isLight = document.body.classList.toggle('light-theme');
    if (isLight) {
      themeIcon.className = 'fa-regular fa-sun';
      themeText.textContent = 'Light';
      localStorage.setItem('parkingTheme', 'light');
    } else {
      themeIcon.className = 'fa-regular fa-moon';
      themeText.textContent = 'Dark';
      localStorage.setItem('parkingTheme', 'dark');
    }
  });

  updateUI();
  setInterval(updateUI, 2000);
</script>

</body>
</html>

